<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AI Playground</title>
    
    <!-- Import Styles -->
    <link rel="stylesheet" href="/src/style.css">

    <!-- Import JavaScript Modules -->
    <script type="module" src="/src/main.js" defer></script>
    <script type="module" src="/src/graph.js" defer></script>
    <script type="module" src="/src/network.js" defer></script> <!-- Network visualization -->
</head>
<body>
    <div id="console">
        <h1>> AI Training Console</h1>
        
        <!-- Model Selection -->
        <p>> Select a model:</p>
        <button id="mlpBtn">MLP</button>
        <button id="cnnBtn">CNN</button>
        <button id="rnnBtn">RNN</button>

        <!-- Hyperparameter Panel -->
        <div id="hyperparameters">
            <p>> Hyperparameters:</p>
        
            <label>Learning Rate: <span id="learningRateValue">0.01</span></label>
            <input type="range" id="learningRate" min="0.001" max="0.05" step="0.001" value="0.01">
        
            <label>Batch Size: <span id="batchSizeValue">16</span></label>
            <input type="range" id="batchSize" min="8" max="32" step="8" value="16">
        
            <label>Epochs: <span id="epochsValue">10</span></label>
            <input type="range" id="epochs" min="5" max="50" step="5" value="10">
        
            <div id="mlpParams">
                <label>Hidden Units: <span id="hiddenUnitsValue">32</span></label>
                <input type="range" id="hiddenUnits" min="8" max="64" step="8" value="32">
            </div>
        
            <div id="cnnParams" style="display: none;">
                <label>Filters: <span id="filtersValue">8</span></label>
                <input type="range" id="filters" min="4" max="32" step="4" value="8">
            </div>
        </div>
        
        <!-- Start/Stop Training Button -->
        <button id="startTraining">Start Training</button>

        <!-- Training Logs -->
        <p>> Logs:</p>
        <div id="logs">> Idle...</div>
    </div>

    <!-- Neural Network Visualization -->
    <div id="visualization">
        <h2>> Neural Network Visualization</h2>
        <canvas id="networkCanvas"></canvas>
        <p>> Hover over neurons to view weights. Live updates during training.</p>
    </div>

    <!-- Graphs Section (Placed Below the Network) -->
    <div id="charts">
        <h2>> Training Progress</h2>
        <div class="chart-container">
            <canvas id="lossChart"></canvas>
        </div>
        <div class="chart-container">
            <canvas id="accuracyChart"></canvas>
        </div>
    </div>

    <script>
        // Ensure that slider values are reflected in the UI on page load
        document.addEventListener("DOMContentLoaded", function () {
            const sliders = {
                learningRate: "0.01",
                batchSize: "16",
                epochs: "10",
                hiddenUnits: "32",
                filters: "8"
            };

            Object.keys(sliders).forEach(id => {
                const slider = document.getElementById(id);
                const valueSpan = document.getElementById(`${id}Value`);

                if (slider && valueSpan) {
                    slider.value = sliders[id]; // Set slider value
                    valueSpan.innerText = sliders[id]; // Display initial value

                    // Update value dynamically when user interacts
                    slider.addEventListener("input", function () {
                        valueSpan.innerText = this.value;
                    });
                }
            });
        });
    </script>
</body>
</html>
